@startuml

!include common/theme.iuml
!include common/furps.iuml

title FURPS+\nПередача ставок в колл-центры
header Банк «Стандарт»
footer Опубликовано %date("d MMM YYYY")

:
|= Инициатива | Передача ставок в колл-центр |
|= Целевой Milestone | MVP расширение для колл-центров |
|= Ключевые компоненты | Система расчёта ставок, Система колл-центра, Партнёрский колл-центр |
|= Изменения затронут | Система расчёта ставок (добавление SFTP-выгрузки), Системы колл-центров (импорт файлов) |
;

:
$header("Решение")
$Functionality("Система расчёта ставок")
$functionality("автоматически генерирует файлы с актуальными ставками при изменении", "Реализовано триггером из бекенда в модуль выгрузки")
$functionality("автоматически выгружает файлы с ставками через SFTP", "Реализовано в модуле SFTP-выгрузки")
$functionality("выгружает файлы для колл-центра банка и партнёрского колл-центра в отдельные директории", "Реализовано в модуле SFTP-выгрузки")
$functionality("поддерживает формат выгрузки CSV с согласованной структурой", "Реализовано в модуле выгрузки")
$functionality("обеспечивает безопасное подключение к SFTP-серверу", "Обеспечивается SSH-ключами и шифрованием")
$functionality("включает информацию о дате актуальности ставок в выгружаемых данных", "Реализовано в модуле выгрузки")
$Functionality("Система колл-центра банка")
$functionality("автоматически скачивает файлы с ставками с SFTP-сервера", "Реализовано на стороне колл-центра")
$functionality("валидирует полученные файлы перед импортом", "Реализовано на стороне колл-центра")
$functionality("импортирует актуальные ставки в свою базу данных", "Реализовано на стороне колл-центра")
$functionality("отображает актуальные ставки операторам в удобном виде", "Реализовано в интерфейсе колл-центра")
$functionality("показывает дату последнего обновления ставок", "Реализовано в интерфейсе колл-центра")
$functionality("обеспечивает доступ к ставкам только авторизованным операторам", "Обеспечивается ключами в SFTP и RBAC в системе колл-центра")
$Functionality("Партнёрский колл-центр")
$functionality("автоматически скачивает файлы с ставками с SFTP-сервера", "Реализовано в системе партнёра")
$functionality("валидирует полученные файлы перед импортом", "Реализовано в системе партнёра")
$functionality("импортирует актуальные ставки в свою систему", "Реализовано в системе партнёра")
$functionality("отображает ставки банка «Стандарт» операторам", "Реализовано в интерфейсе партнёрского колл-центра")
$Usability("Система колл-центра банка")
$usability("интерфейс просмотра ставок интуитивен для операторов", "Обеспечено при разработке интерфейса")
$usability("ставки сгруппированы по типам депозитов для удобства навигации", "Реализовано в интерфейсе колл-центра")
$usability("актуальность ставок явно видна оператору (дата обновления)", "Реализовано в интерфейсе колл-центра")
$usability("интерфейс позволяет быстро найти нужную ставку по продукту", "Реализовано через поиск и фильтрацию")
$usability("система предупреждает оператора, если ставки устарели", "Реализовано через визуальные индикаторы")
$Usability("Партнёрский колл-центр")
$usability("ставки банка «Стандарт» выделены и легко находятся в системе", "Обеспечивается интерфейсом партнёра")
$usability("информация о ставках структурирована и понятна операторам", "Обеспечивается форматом данных и интерфейсом")
$Reliability("")
$reliability("SFTP-сервер доступен 24/7 с SLA 99.9%", "Обеспечено резервным SFTP-сервером и резервным ЦОД")
$reliability("гарантированная доставка файлов через SFTP с retry-механизмом", "Реализовано в модуле SFTP-выгрузки")
$reliability("при сбое выгрузки отправляется алерт администратору", "Реализовано в системе мониторинга")
$reliability("системы колл-центров работают с последними успешно импортированными ставками при сбое SFTP", "Обеспечивается архитектурой импорта")
$reliability("все критичные операции логируются для аудита", "Реализовано в системе мониторинга")
$reliability("целостность данных при передаче файлов проверяется контрольной суммой", "Реализовано в модулях выгрузки и импорта")
$Performance("")
$performance("время генерации файла для выгрузки не превышает 1 минуты", "Обеспечено чтением ставок из кеша")
$performance("файлы выгружаются на SFTP в течение 5 минут после генерации", "Обеспечено производительностью сети и SFTP-сервера")
$performance("система колл-центра банка регулярно проверяет обновления", "Настроено в планировщике задач")
$Performance("SFTP-выгрузка")
$performance("файлы генерируются автоматически при изменении ставок (не позднее 1 минуты)", "Реализовано через event-driven архитектуру")
$performance("размер файла оптимизирован для быстрой передачи", "CSV формат, сжатие при необходимости")
$Supportability("")
$supportability("формат файлов SFTP-выгрузки документирован и согласован с колл-центрами", "Обеспечено документацией и соглашениями")
$supportability("мониторинг успешности выгрузок файлов через SFTP", "Реализовано в Prometheus+Grafana")
$supportability("мониторинг доступности SFTP-сервера", "Реализовано в Prometheus+Grafana")
$supportability("централизованное логирование всех операций", "Реализовано через ELK")
$supportability("алерты при сбоях выгрузки или недоступности SFTP", "Реализовано в системе мониторинга")
$supportability("версионирование формата файлов для обратной совместимости", "Обеспечено в конфигурации модуля выгрузки")
$supportability("автоматизированное тестирование процесса выгрузки", "Реализовано в CI/CD автотестами")
$Restrictions("")
$restrictions("системы колл-центров не могут делать API-вызовы, только файловый обмен", "Решено через SFTP-выгрузку")
$restrictions("партнёрский колл-центр работает во внешней информационной системе", "Учтено в архитектуре, взаимодействие только через SFTP")
$restrictions("формат файла согласован с колл-центрами и не может произвольно меняться", "Обеспечено версионированием и документацией")
$restrictions("необходимость обеспечить безопасность передачи данных через SFTP", "Обеспечено SSH-ключами, шифрованием и аудитом")
;

@enduml
