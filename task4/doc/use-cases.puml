@startuml

!include common/theme.iuml
!include common/usecase.iuml


title Use Cases\nПередача ставок в колл-центр
header Банк «Стандарт»
footer Опубликовано %date("d MMM YYYY")

!$use_cases = [
    {
        "name": "Обновление ставок в системе расчёта ставок",
        "participants": [
            "Менеджер депозитов",
            "Система расчёта ставок"
        ],
        "steps": [
            "Менеджер депозитов входит в систему расчёта ставок",
            "Менеджер депозитов изменяет базовые ставки по депозитным продуктам",
            "Система расчёта ставок валидирует введённые данные",
            "Система расчёта ставок сохраняет новые ставки в базе данных",
            "Система расчёта ставок помечает ставки как актуальные с указанием даты вступления в силу",
            "Система расчёта ставок инициирует процесс распространения ставок в подключённые системы"
        ]
    },
    {
        "name": "Консультация клиента по депозитным ставкам сотрудником колл-центра",
        "participants": [
            "Клиент",
            "Оператор колл-центра",
            "Система колл-центра"
        ],
        "steps": [
            "Клиент звонит в колл-центр банка с вопросом о депозитных ставках",
            "Оператор колл-центра принимает звонок и идентифицирует клиента",
            "Оператор открывает в системе колл-центра раздел с информацией о депозитах",
            "Система колл-центра отображает оператору актуальные ставки из ранее импортированного файла",
            "Система колл-центра показывает дату последнего обновления ставок",
            "Оператор консультирует клиента по актуальным ставкам и условиям депозитов",
            "Оператор отвечает на дополнительные вопросы клиента",
            "При необходимости оператор помогает клиенту оформить заявку на депозит"
        ]
    },
    {
        "name": "Получение актуальных ставок системой колл-центра банка",
        "participants": [
            "Система колл-центра",
            "SFTP-сервер",
            "Система расчёта ставок"
        ],
        "steps": [
            "Система расчёта ставок автоматически генерирует файл с актуальными ставками при их изменении",
            "Система расчёта ставок размещает файл на SFTP-сервере для колл-центра банка",
            "Система колл-центра по расписанию подключается к SFTP-серверу",
            "Система колл-центра проверяет наличие новых файлов с актуальными ставками",
            "Система колл-центра скачивает новый файл при его обнаружении",
            "Система колл-центра валидирует полученный файл",
            "Система колл-центра импортирует актуальные ставки в свою базу данных",
            "Система колл-центра обновляет информацию о дате последнего обновления ставок"
        ]
    },
    {
        "name": "Передача актуальных ставок в партнёрский кол-центр",
        "participants": [
            "Система расчёта ставок",
            "SFTP-сервер",
            "Партнёрский кол-центр"
        ],
        "steps": [
            "Система расчёта ставок автоматически (по расписанию или при изменении ставок) инициирует процесс выгрузки",
            "Система расчёта ставок собирает актуальные данные о всех депозитных продуктах и ставках",
            "Система расчёта ставок формирует файл в согласованном формате (CSV/XML/JSON)",
            "Система расчёта ставок размещает файл с актуальными ставками в согласованную директорию на SFTP-сервере",
            "Партнёрский кол-центр по расписанию подключается к SFTP-серверу",
            "Партнёрский кол-центр скачивает новый файл с актуальными ставками",
            "Партнёрский кол-центр импортирует данные о ставках в свою систему",
            "Система партнёрского кол-центра валидирует и обновляет информацию о ставках"
        ]
    },
    {
        "name": "Консультация клиента оператором партнёрского колл-центра",
        "participants": [
            "Клиент",
            "Оператор партнёрского колл-центра",
            "Система партнёрского колл-центра"
        ],
        "steps": [
            "Клиент звонит на номер колл-центра банка",
            "Звонок переадресуется в партнёрский колл-центр при перегрузке основного колл-центра",
            "Оператор партнёрского колл-центра принимает входящий звонок",
            "Оператор идентифицирует, что звонок касается банка «Стандарт»",
            "Оператор открывает информацию о продуктах банка «Стандарт» в системе партнёрского колл-центра",
            "Система партнёрского колл-центра отображает актуальные ставки по депозитам банка «Стандарт»",
            "Оператор консультирует клиента по актуальным ставкам и условиям депозитов",
            "Оператор отвечает на вопросы клиента в рамках базовой консультации",
            "При необходимости оформления заявки оператор соединяет клиента с основным колл-центром банка"
        ]
    }
]
$UseCases($use_cases=$use_cases)

@enduml